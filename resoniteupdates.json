[
    {
        "UpdateStageName": "Login to Steam",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "Executable",
        "UpdateSourceData": "steamcmd.sh",
        "UpdateSourceArgs": "+login {{steamUsername}} {{steamPassword}} +quit",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "SteamCMD Download",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "SteamCMD",
        "UpdateSourceData": "2519830",
        "UpdateSourceVersion": "headless",
        "UpdateSourceArgs": "-beta headless -betapassword {{betaPassword}}"
    },
    {
        "UpdateStageName": "Create Config Directories",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'mkdir -p {{$STEAMAPPDIR}}/Headless/Config; mkdir -p {{$STEAMAPPDIR}}/Headless/Logs;'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Set Executable Permissions",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "SetExecutableFlag",
        "UpdateSourceArgs": "{{$STEAMAPPDIR}}/Headless/Resonite.dll"
    },
    {
        "UpdateStageName": "Create Logs Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'mkdir -p /Logs'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Data Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'mkdir -p {{$STEAMAPPDIR}}/Data'",
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Create Cache Directory",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c 'mkdir -p {{$STEAMAPPDIR}}/Cache'",
        "SkipOnFailure": false
    }
]
